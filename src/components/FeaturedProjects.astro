---
import { Link } from '@components/ui/link'
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from '@components/ui/card'
import { getRelativeLocaleUrl } from 'astro:i18n'
import { ArrowRight, Dna, Cpu, CuboidIcon } from 'lucide-react'
import { useTranslations, defaultLocale, type Language } from '@i18n/utils'
const { lang } = Astro.params
const currentLocale = lang ?? defaultLocale
const t = useTranslations(lang as Language)
---

<section class="py-12 md:py-24">
  <div class="container px-4 md:px-6">
    <div class="flex flex-col items-center justify-center space-y-4 text-center">
      <div class="animate-fadeIn">
        <h2 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl">
          {t('home.featured.title')}
        </h2>
      </div>
    </div>
    <div class="mt-12 grid gap-6 md:grid-cols-2 lg:grid-cols-3">
      <div class="animate-fadeInUp">
        <Card className="flex h-full flex-col">
          <CardHeader className="flex flex-grow flex-col">
            <div
              class="mb-2 flex h-12 w-12 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/20"
            >
              <Dna className="h-6 w-6 text-green-600 dark:text-green-400" />
            </div>
            <CardTitle>{t('home.featured.annotate.title')}</CardTitle>
            <CardDescription className="flex-grow"
              >{t('home.featured.annotate.description')}</CardDescription
            >
          </CardHeader>
          <CardFooter className="flex flex-col gap-4">
            <div
              class="bg-muted flex h-40 w-full items-center justify-center overflow-hidden rounded-lg"
            >
              <p class="text-muted-foreground text-sm">Project Screenshot</p>
            </div>
            <Link
              href={getRelativeLocaleUrl(currentLocale, '/projects/annotate')}
              variant="outline"
              className="w-full"
            >
              {t('button.view')}
              <ArrowRight className="ml-2 h-4 w-4" />
            </Link>
          </CardFooter>
        </Card>
      </div>

      <div class="animate-fadeInUp" style="animation-delay: 200ms;">
        <Card className="flex h-full flex-col">
          <CardHeader className="flex flex-grow flex-col">
            <div
              class="mb-2 flex h-12 w-12 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/20"
            >
              <Cpu className="h-6 w-6 text-blue-600 dark:text-blue-400" />
            </div>
            <CardTitle>{t('home.featured.scada.title')}</CardTitle>
            <CardDescription className="flex-grow"
              >{t('home.featured.scada.description')}</CardDescription
            >
          </CardHeader>
          <CardFooter className="flex flex-col gap-4">
            <div
              class="bg-muted flex h-40 w-full items-center justify-center overflow-hidden rounded-lg"
            >
              <p class="text-muted-foreground text-sm">Project Screenshot</p>
            </div>
            <Link
              href={getRelativeLocaleUrl(currentLocale, '/projects/scada')}
              variant="outline"
              className="w-full"
            >
              {t('button.view')}
              <ArrowRight className="ml-2 h-4 w-4" />
            </Link>
          </CardFooter>
        </Card>
      </div>

      <div class="animate-fadeInUp" style="animation-delay: 400ms;">
        <Card className="flex h-full flex-col">
          <CardHeader className="flex flex-grow flex-col">
            <div
              class="mb-2 flex h-12 w-12 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/20"
            >
              <CuboidIcon className="h-6 w-6 text-amber-600 dark:text-amber-400" />
            </div>
            <CardTitle>{t('home.featured.origami.title')}</CardTitle>
            <CardDescription className="flex-grow"
              >{t('home.featured.origami.description')}</CardDescription
            >
          </CardHeader>
          <CardFooter className="flex flex-col gap-4">
            <div
              class="bg-muted flex h-40 w-full items-center justify-center overflow-hidden rounded-lg"
            >
              <p class="text-muted-foreground text-sm">Project Screenshot</p>
            </div>
            <Link
              href={getRelativeLocaleUrl(currentLocale, '/projects/origami')}
              variant="outline"
              className="w-full"
            >
              {t('button.view')}
              <ArrowRight className="ml-2 h-4 w-4" />
            </Link>
          </CardFooter>
        </Card>
      </div>
    </div>
    <div class="mt-12 flex justify-center">
      <Link href={getRelativeLocaleUrl(currentLocale, '/projects')}>
        {t('button.view.all')}
        <ArrowRight className="ml-2 h-4 w-4" />
      </Link>
    </div>
  </div>
</section>

<style>
  .animate-fadeIn {
    opacity: 0;
    animation: fadeIn 0.5s forwards;
  }

  .animate-fadeInUp {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 0.5s forwards;
  }

  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
