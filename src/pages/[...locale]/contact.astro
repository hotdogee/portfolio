---
import { Download, FileText } from 'lucide-react'
import Email from '@assets/icons/Email.svg'
import GitHub from '@assets/icons/GitHub.svg'
import GoogleScholar from '@assets/icons/GoogleScholar.svg'
import LinkedIn from '@assets/icons/LinkedIn.svg'
import ResearchGate from '@assets/icons/ResearchGate.svg'
import { ContactForm } from '@components/ContactForm.tsx'
import { Card, CardContent, CardHeader, CardTitle } from '@components/ui/card'
import BaseLayout from '@layouts/BaseLayout.astro'
import { defaultLocale } from '@lib/i18n'

export { getLocalizedStaticPaths as getStaticPaths } from '@lib/i18n'

const translations = {
  en: {
    title: 'Contact | Han Lin',
    pageTitleBadge: 'Get in Touch',
    pageTitle: "Let's Innovate Together",
    description:
      "The next breakthrough often begins with a conversation. I'm passionate about collaborating with visionaries, researchers, and forward-thinking teams. If you're looking to solve complex problems, pioneer new technologies, or explore groundbreaking research, I'm ready to listen and contribute. Reach out, and let's discuss how we can innovate together.",
    formTitle: 'Start a Conversation',
    formDescription:
      "Share a brief description of your project or opportunity below, and I'll respond within 24 hours. Alternatively, reach out directly via email.",
    namePlaceholder: 'Name',
    emailPlaceholder: 'Email',
    messagePlaceholder: 'Message',
    sendButtonText: 'Send Message',
    sendingText: 'Sending...',
    successMessage: "Message sent! I'll get back to you soon.",
    errorMessage: 'There was an error sending your message. Please try again later.',
    nameRequired: 'Name is required.',
    emailInvalid: 'Please enter a valid email address.',
    messageRequired: 'Message is required',
    formSubject: 'Portfolio User Inquiry',
    connectTitle: "Let's Connect",
    resourcesTitle: 'Download Resources',
    buttonDownload: 'Download CV',
    buttonViewPublications: 'View Publications',
  },
  tw: {
    title: '聯絡 | 林翰',
    pageTitleBadge: '形塑未來',
    pageTitle: '攜手共創價值',
    description:
      '下一個重大突破，往往源於一場對話。我熱切期盼與富有遠見的開創者、研究學者及具前瞻思維的團隊攜手並進。若您正致力解決棘手難題、開拓嶄新科技，或探索前所未有的研究領域，我樂於傾聽並貢獻己力。歡迎隨時與我聯繫，讓我們共同打造卓越非凡的成果。',
    formTitle: '啟動對話',
    formDescription:
      '請在下方簡要描述您的專案或合作機會，我將於 24 小時內回覆。也歡迎直接透過電子郵件與我聯繫。',
    namePlaceholder: '姓名',
    emailPlaceholder: '電子郵件',
    messagePlaceholder: '訊息',
    sendButtonText: '發送訊息',
    sendingText: '發送中...',
    successMessage: '訊息已送出！我將盡快回覆您。',
    errorMessage: '發送訊息時發生錯誤，請稍後再試。',
    nameRequired: '姓名為必填欄位。',
    emailInvalid: '請輸入有效的電子郵件地址。',
    messageRequired: '訊息為必填欄位。',
    formSubject: '作品集訊息',
    connectTitle: '建立連結',
    resourcesTitle: '相關下載',
    buttonDownload: '下載履歷',
    buttonViewPublications: '查看著作',
  },
}

const { locale } = Astro.params
const currentLocale = locale ?? defaultLocale
const t = (key: string): any => {
  const locale = currentLocale as keyof typeof translations
  return translations[locale]?.[key as keyof (typeof translations)[typeof locale]] || key
}
---

<BaseLayout title={t('title')} description={t('description')}>
  <section class="md:py-2">
    <div class="container px-4 md:px-6">
      <div class="animate-fade-in-up mx-auto max-w-3xl transition duration-500">
        <div class="mb-8 space-y-4 text-center">
          <div
            class="dark:bg-accent dark:text-accent-foreground bg-accent text-accent-foreground inline-flex items-center rounded-lg px-3 py-1 text-sm font-medium"
          >
            {t('pageTitleBadge')}
          </div>
          <h1 class="text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl">
            {t('pageTitle')}
          </h1>
          <p class="text-muted-foreground mb-12 md:text-xl">{t('description')}</p>
        </div>
      </div>

      <div class="mt-12 grid gap-8 lg:grid-cols-2 xl:gap-12">
        <div class="animate-fade-in-left opacity-0">
          <ContactForm
            client:load
            i18n={{
              title: t('formTitle'),
              description: t('formDescription'),
              namePlaceholder: t('namePlaceholder'),
              emailPlaceholder: t('emailPlaceholder'),
              messagePlaceholder: t('messagePlaceholder'),
              sendButtonText: t('sendButtonText'),
              sendingText: t('sendingText'),
              successMessage:
                "Your message has been sent successfully. We'll get back to you soon!",
              errorMessage: 'There was an error sending your message. Please try again later.',
              nameRequired: 'Name is required.',
              emailInvalid: 'Please enter a valid email address.',
              messageRequired: 'Message is required',
              formSubject: 'Portfolio User Inquiry',
            }}
          />
        </div>

        <div class="animate-fade-in-right space-y-8 opacity-0">
          <Card>
            <CardHeader>
              <CardTitle>{t('connectTitle')}</CardTitle>
            </CardHeader>
            <CardContent>
              <div class="grid grid-cols-2 gap-4">
                <a
                  href="https://www.linkedin.com/in/hotdogee/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-background hover:bg-accent hover:text-accent-foreground border-input focus-visible:ring-ring inline-flex h-11 w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium shadow-sm transition-colors focus-visible:ring-1 focus-visible:outline-none"
                >
                  <LinkedIn class="mr-2 size-6" /> LinkedIn
                </a>
                <a
                  href="https://github.com/hotdogee"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-background hover:bg-accent hover:text-accent-foreground border-input focus-visible:ring-ring inline-flex h-11 w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium shadow-sm transition-colors focus-visible:ring-1 focus-visible:outline-none"
                >
                  <GitHub class="mr-2 size-6" /> GitHub
                </a>
                <a
                  href="https://www.researchgate.net/profile/Han-Lin-23"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-background hover:bg-accent hover:text-accent-foreground border-input focus-visible:ring-ring inline-flex h-11 w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium shadow-sm transition-colors focus-visible:ring-1 focus-visible:outline-none"
                >
                  <ResearchGate class="mr-2 size-5" /> ResearchGate
                </a>
                <a
                  href="https://scholar.google.com/citations?hl=en&user=3pkoNyUAAAAJ"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-background hover:bg-accent hover:text-accent-foreground border-input focus-visible:ring-ring inline-flex h-11 w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium shadow-sm transition-colors focus-visible:ring-1 focus-visible:outline-none"
                >
                  <GoogleScholar class="mr-2 size-5" /> Google Scholar
                </a>
              </div>

              <div class="mt-6">
                <a
                  href="mailto:hanlin@ntu.edu.tw"
                  class="bg-secondary text-secondary-foreground hover:bg-secondary/80 inline-flex h-11 w-full items-center justify-center rounded-md px-8 text-sm font-medium shadow transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50"
                >
                  <Email class="mr-2 size-6" /> hanlin@ntu.edu.tw
                </a>
              </div>
            </CardContent>
          </Card>

          <Card>
            <CardHeader>
              <CardTitle>{t('resourcesTitle')}</CardTitle>
            </CardHeader>
            <CardContent>
              <div class="space-y-4">
                <a
                  target="_blank"
                  class="bg-primary text-primary-foreground hover:bg-primary/90 inline-flex h-11 w-full items-center justify-center rounded-md px-8 text-sm font-medium shadow transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50"
                >
                  <Download className="mr-2 size-6" />
                  {t('buttonDownload')}
                </a>
                <a
                  href="/research"
                  class="bg-background hover:bg-accent hover:text-accent-foreground border-input focus-visible:ring-ring inline-flex h-11 w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium shadow-sm transition-colors focus-visible:ring-1 focus-visible:outline-none"
                >
                  <FileText className="mr-2 size-6" />
                  {t('buttonViewPublications')}
                </a>
              </div>
            </CardContent>
          </Card>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script></script>
